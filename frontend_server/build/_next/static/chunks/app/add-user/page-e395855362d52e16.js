(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[591],{3283:function(e,s,r){Promise.resolve().then(r.bind(r,2860))},2860:function(e,s,r){"use strict";r.r(s);var t=r(5862),a=r(7058),i=r(7931),n=r(4135);r(3025),s.default=()=>{let[e,s]=(0,a.useState)(""),[r,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[h,p]=(0,a.useState)(""),m=async s=>{if(s.preventDefault(),l!==d){p("Passwords do not match");return}try{let{access_token:s}=(await i.Z.post("".concat(window.location.origin,"/habitat/api/node/users"),{email:e,handle:r,password:l},{headers:{"Content-Type":"application/json"}})).data;n.Z.set("access_token",s,{expires:7}),console.log("Registration successful, token set in cookie")}catch(e){p("Registration failed"),console.error("Registration error",e)}};return(0,t.jsx)("div",{className:"register-container",children:(0,t.jsxs)("form",{className:"register-form",onSubmit:m,children:[(0,t.jsx)("h2",{children:"Register"}),h&&(0,t.jsx)("p",{className:"error",children:h}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,t.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"handle",children:"Handle:"}),(0,t.jsx)("input",{type:"text",id:"handle",value:r,onChange:e=>o(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,t.jsx)("input",{type:"password",id:"password",value:l,onChange:e=>c(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"confirm-password",children:"Confirm Password:"}),(0,t.jsx)("input",{type:"password",id:"confirm-password",value:d,onChange:e=>u(e.target.value),required:!0})]}),(0,t.jsx)("button",{type:"submit",children:"Register"})]})})}},3025:function(){}},function(e){e.O(0,[434,533,158,660,744],function(){return e(e.s=3283)}),_N_E=e.O()}]);